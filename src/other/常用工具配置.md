## python ç¯å¢ƒé…ç½®å®‰è£…

### pythonæºç å®‰è£…ï¼š
ä¸‹è½½æºç åŒ…ç›´æ¥ç¼–è¯‘å®‰è£…åˆ°æŒ‡å®šç›®å½•
> `./configure --prefix=/usr/local/Cellar/python/2.7.15 --enable-unicode=ucs4 --enable-optimizations --with-ssl`---æŒ‡å®šå®‰è£…ç›®å½•åŠç¼–ç <br>
> `make && make install`---ç¼–è¯‘å®‰è£…

### å…¶ä»–åŒ…ä¹Ÿå¯ä»¥ç”¨æºç å®‰è£…ï¼šä¸‹è½½æºç åŒ…ï¼Œè§£å‹è¿›å…¥ï¼Œæ‰§è¡Œï¼š
> `python setup.py install`

* å®‰è£…pip(python3å®‰è£…åè‡ªå¸¦pip3ï¼Œä½†éœ€è¦ç”¨æ–°ç‰ˆæœ¬æºç æ›´æ–°)ï¼Œå¤šç§æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æºç å®‰è£…ï¼Œç›®å‰é‡åˆ°é—®é¢˜ï¼Œpipå®‰è£…å¥½åï¼Œæç¤ºsslä¸å¯ç”¨ï¼Œå…ˆå®‰è£…opensslï¼Œç„¶åå†ç¼–è¯‘pythonï¼Œæ£€æµ‹æ–¹æ³•åœ¨pythonä¸­æ‰§è¡Œimport sslï¼ˆ[å®‰è£…setuptoolsé‡åˆ°é—®é¢˜](https://stackoverflow.com/questions/27022373/python3-importerror-no-module-named-ctypes-when-using-value-from-module-mul)ï¼‰

### å¸¸ç”¨åŒ…ä½¿ç”¨æ–¹æ³•ï¼š
* [python cx_Oracleä½¿ç”¨](http://www.oracle.com/technetwork/cn/articles/dsl/prez-python-queries-101587-zhs.html)
* [python å‘é€httpæˆ–httpsè¯·æ±‚url](https://liam0205.me/2016/02/27/The-requests-library-in-Python/) 
* ä½¿ç”¨matplotlibæ—¶ä¼šæŠ¥RuntimeError: Python is not installed as a framework.é”™è¯¯ï¼Œ[è§£å†³åŠæ³•](https://stackoverflow.com/questions/21784641/installation-issue-with-matplotlib-python)

### tensorflowå®‰è£…é—®é¢˜ï¼š
* macosä¸‹å®‰è£…tensorflowæ—¶ä¼šæŠ¥é”™ï¼šCould not find a version that satisfies the requirement tensorflow (from versions: ) No matching distribution found for tensorflowï¼Œè§£å†³åŠæ³•ä½¿ç”¨å‘½ä»¤å®‰è£…:
> `pip2 install --upgrade https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.1.0-py2-none-any.whl`

* linuxä¸‹å®‰è£…tensorflowï¼ŒæŒ‰ç…§[å®˜ç½‘æ•™ç¨‹](https://www.tensorflow.org/install/install_sources#common_installation_problems)å®‰è£…ï¼Œéœ€è¦å…ˆå®‰è£…[bazel](https://www.bazel.build)ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤å®‰è£…ï¼š
> `pip2 install --upgrade https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.1.0-cp27-none-linux_x86_64.whl`
* ä½†è¿˜æ˜¯é‡åˆ°ä¸å°‘é—®é¢˜ï¼š
> import tensorflow <br>
> 
> 1. ImportError: /usr/lib64/libstdc++.so.6: version 'GLIBCXX_3.4.19' not found... libstdc++.so.6éœ€è¦3.4.19ç‰ˆæœ¬gccï¼Œæ‰§è¡Œ`strings /usr/lib64/libstdc++.so.6 | grep GLIBC`æŸ¥çœ‹å½“å‰GCCç‰ˆæœ¬ï¼Œåˆ°[è¿™é‡Œ](http://ftp.de.debian.org/debian/pool/main/g/gcc-4.8/)ä¸‹è½½éœ€è¦çš„(GLIBCXX_3.4.19å¯¹åº”libstdc++.so.6.0.19)gccç‰ˆæœ¬ï¼Œç”¨å‘½ä»¤`ar -x libstdc++6_4.7.2-5_i386.deb && tar xvf data.tar.gz && tar xvf data.tar.xz`è§£å‹ï¼Œåœ¨è§£å‹ç›®å½•./usr/lib/x86_64-linux-gnu/debug/ä¸­æŸ¥æ‰¾libstdc++.so.6.0.19ï¼Œcpåˆ°/usr/lib64/ï¼Œé‡æ–°å»ºç«‹libstdc++.so.6æŒ‡å‘libstdc++.so.6.0.19
> 2. ImportError: /lib64/libc.so.6: version 'GLIBC_2.18'... glibcåº“ç‰ˆæœ¬è¿‡ä½ï¼Œlibc.so.6éœ€è¦æŒ‡å‘ç‰ˆæœ¬2.18ç‰ˆæœ¬ï¼Œæ‰§è¡Œ`strings /lib64/libc.so.6 |grep GLIBC_`æŸ¥çœ‹å½“å‰æœ‰å“ªäº›ç‰ˆæœ¬ï¼Œåˆ°[è¿™é‡Œ](https://ftp.gnu.org/gnu/glibc/)ä¸‹è½½éœ€è¦çš„åº“ï¼Œå®‰è£…æ–¹æ³•ï¼šè§£å‹åcdè¿›å»ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š
`mkdir build`
`cd build`
`../configure --prefix=/usr --disable-profile --enable-add-ons --with-headers=/usr/include --with-binutils=/usr/bin`
`make && make install`---ç¼–è¯‘å®‰è£…<br>
å†æ¬¡æ‰§è¡Œ`strings /lib64/libc.so.6 |grep GLIBC_`
> 3. ImportError: /usr/local/Cellar/python/2.7.15/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so: undefined symbol: PyUnicodeUCS4_AsASCIIStringï¼Œç¼–ç é—®é¢˜ï¼Œä»æ–°ç¼–è¯‘pythonï¼Œç¼–è¯‘æ—¶æŒ‡å®šç¼–ç ä¸ºucs4
> 4. Exception: Versioning for this project requires either an sdist tarball, or access to an upstream git repository. It's also possible that there is a mismatch between the package name in setup.cfg and the argument given to pbr.version.VersionInfo. Project name mock was given, but was not able to be found.
> 5. python3 ç‰ˆæœ¬å®‰è£…æˆåŠŸã€‚ã€‚ã€‚ã€‚


* cudaå®‰è£…é—®é¢˜ï¼Œ[tensorflow-gpuå®‰è£…æ­¥éª¤](tensorflow-gpuå®‰è£…æ­¥éª¤.md)
>* cat /proc/driver/nvidia/version #æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬
>* sudo dpkg --list|grep nvidia 	# æŸ¥çœ‹dpkgå®‰è£…åˆ—è¡¨
>* cat /var/log/dpkg.log| grep nvidia	# æŸ¥çœ‹å®‰è£…æ—¥å¿—
>* sudo apt-get purge nvidia-\*

* apt-get å¸è½½å‡ºé”™

	```bash
	sudo mv /var/lib/dpkg/info /var/lib/dpkg/info_old
	sudo mkdir /var/lib/dpkg/info
	sudo apt-get update
	sudo apt-get -f install
	sudo mv /var/lib/dpkg/info/* /var/lib/dpkg/info_old/
	sudo rm -rf /var/lib/dpkg/info
	sudo mv /var/lib/dpkg/info_old /var/lib/dpkg/info
	```

## python ç‰ˆæœ¬åˆ‡æ¢

[pyenv](https://github.com/pyenv/pyenv)

## macOS vimé…ç½®
* é…ç½®`~/.vimrc`æ–‡ä»¶ï¼Œ[é…ç½®å‚è€ƒ](https://github.com/CLgithub/comused/blob/master/src/other/vimrcé…ç½®æ–‡ä»¶)
* é…è‰²æ–¹æ¡ˆè·¯å¾„ï¼š`/usr/share/vim/vim74/colors/`,ä¸€èˆ¬ä¼šä½¿ç”¨brewå®‰è£…vimï¼Œ`brew install -s vim`,å®‰è£…åé…è‰²æ–¹æ¡ˆè·¯å¾„éšä¹‹æ”¹å˜
* vimæ’ä»¶ç®¡ç†ï¼Œä½¿ç”¨Vundle.vimï¼Œé…ç½®æ–‡ä»¶ä¸­å·²ç»é…ç½®
* è‡ªåŠ¨è¡¥å…¨æ’ä»¶ï¼Œä½¿ç”¨Vundleå®‰è£…Valloric/YouCompleteMeï¼Œå…¶ä»–pythonå¼€å‘æ’ä»¶åœ¨é…ç½®æ–‡ä»¶ä¸­æœ‰è¯´æ˜

## macOS å‘½ä»¤è¡Œå·¥å…·é…ç½®
* å®‰è£…iTerm2
* ä½¿ç”¨zshï¼Œæ›´æ”¹é»˜è®¤shellå‘½ä»¤`chsh -s /usr/local/bin/zsh`ï¼Œéœ€è¦å…ˆæ·»åŠ åˆ°/etc/shellæ–‡ä»¶ä¸­
* å®‰è£…æ’ä»¶oh-my-zshï¼Œé…ç½®æ–‡ä»¶~/.zshï¼Œ
* ä¸»é¢˜ç”¨zshçš„ZSH_THEME="ys"ä¸»é¢˜ä¸iTerm2çš„"3024 night"ç›¸ç»“åˆ

## docker åŸºæœ¬ä½¿ç”¨
* å¸¸ç”¨å‘½ä»¤<br>

	```
	å¯åŠ¨dockeræœåŠ¡ï¼šdockerd & 
	å¯åŠ¨åä¸‹è½½é•œåƒï¼šdocker pull ...
	æŸ¥çœ‹å·²ç»ä¸‹è½½çš„é•œåƒï¼šdocker images
	æ ¹æ®é•œåƒåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼šdocker run -i -t -d -p 40001:80 onlyoffice/documentserver
	å¦‚åˆ›å»ºä¸€ä¸ªoracleå®¹å™¨ï¼šdocker run -d -p 9090:8080 -p 1521:1521 -v /Users/l/data:/install wnameless/oracle-xe-11g	
	# -v æŠŠä¸»æœºçš„æ–‡ä»¶å¤¹/Users/l/dataæŒ‚åœ¨åˆ°oracleå®¹å™¨çš„çš„/install
	
	æŸ¥çœ‹æ‰€æœ‰å®¹å™¨åŠå…¶çŠ¶æ€ï¼šdocker ps -a
	åœæ­¢ä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®¹å™¨ï¼šdocker stop <å®¹å™¨id>
	å¯åŠ¨ä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®¹å™¨ï¼šdocker start <å®¹å™¨id>
	è¿›å…¥å®¹å™¨bashï¼šdocker exec -it containerID bash
	ç”¨rootç”¨æˆ·è¿›å…¥å®¹å™¨ï¼šdocker exec -it --user root containerID bash
	é…ç½®ç¯å¢ƒå˜é‡ï¼š-e name=balues
	```
	
* æ ¹æ®é•œåƒåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨

	```bash
	docker run --name container-name -p è®¿é—®ç«¯å£:åº”ç”¨ç«¯å£ -d image-name 
	eg: docker run --name tomcat_container -p 8082:8080 -d tomcat
	eg: docker run --name mysql1 -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7
	```
	
	egï¼škafkaæ­å»ºï¼Œkafka0å’Œkafka-manager0ä½¿ç”¨zookeeper0çš„ç½‘ç»œï¼Œé¿å…ç›´æ¥å†™æ­»å®¿ä¸»æœºipï¼Œzookeeper0æå‰æ˜ å°„å‡ºæ‰€æœ‰éœ€è¦çš„ç«¯å£
	
	```bash
	docker run --name=zookeeper0 -p 2181:2181 -p 9092:9092 -p 9000:9000 -v /Users/l/develop/z-zookeeper/:/data/ -d zookeeper
	docker run --name kafka0 --net=container:zookeeper0 -e KAFKA_BROKER_ID=0 -e KAFKA_ZOOKEEPER_CONNECT=0.0.0.0:2181 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://127.0.0.1:9092 -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 -d wurstmeister/kafka
	docker run --name kafka-manager0 --net=container:zookeeper0 -e ZK_HOSTS=0.0.0.0:2181 -d sheepkiller/kafka-manager 
	```
	
	egï¼šftp
	
	```bash
	docker run -d -v /Users/l/develop/z-ftptmp:/home/vsftpd -p 20:20 -p 21:21 -p  21100-21110:21100-21110 -e FTP_USER=ftpuser1 -e FTP_PASS=123456 -e PASV_ADDRESS=192.168.31.121 -e PASV_MIN_PORT=21100 -e PASV_MAX_PORT=21110 --name vsftpd --restart=always bogem/ftp
	```
	
	egï¼šsolr
	
	```bash
	docker run --name solr1 -p 8983:8983 -v /Users/l/develop/z-dockerdir/solr/data/:/data/ -v /Users/l/develop/z-dockerdir/solr/var/:/var/ -d solr
	# /Users/l/develop/z-dockerdir/solr/data/:/data/ ç›®å½•å…±äº« å®¹å™¨ä¸­æ— æ³•ä½¿ç”¨viï¼Œå¯ä»¥é€šè¿‡ç›®å½•å…±äº«æ¥å®Œæˆæ–‡ä»¶ç¼–è¾‘
	# åˆ›å»ºcore
	docker exec -it --user=solr solr1 bin/solr create_core -c new_core
	```
	
	
	
* oracleå¯åŠ¨æˆåŠŸåï¼Œä½¿ç”¨sysdbaè§’è‰²ç™»å½•sys/oracleï¼Œ

* åˆ›å»ºæ•°æ®è¡¨ç©ºé—´: 

  ```sql
  create TABLESPACE myts datafile '/u01/app/oracle/oradata/XE/myts.dbf'
  size 100M autoextend on next 5M maxsize 400M;
  ```

* åˆ›å»ºç”¨æˆ·ï¼š`create user user1 identified by 123456;`

* è®¾ç½®æ•°æ®åº“é»˜è®¤è¡¨ç©ºé—´ï¼š`alter database default tablespace MYTS;`

* ç»™ç”¨æˆ·æˆæƒï¼š`grant connect,resource to user1;--è¿æ¥è§’è‰²å’Œèµ„æºè§’è‰²ï¼Œdba:ç®¡ç†å‘˜`


## nginxé…ç½®[å‚è€ƒ](http://seanlook.com/2015/05/17/nginx-install-and-config/)
* å®‰è£…<br>
`mac os å®‰è£…ï¼Œä½¿ç”¨home brew,ä¹Ÿå¯ä»¥åˆ©ç”¨docker`

* nginx.confæ–‡ä»¶[å‚è€ƒ](http://seanlook.com/2015/05/17/nginx-location-rewrite/)
```
nginxé…ç½®æ–‡ä»¶ä¸»è¦åˆ†æˆå››éƒ¨åˆ†ï¼šmain(å…¨å±€è®¾ç½®)ã€server(ä¸»æœºè®¾ç½®)ã€upstream(ä¸Šæ¸¸æœåŠ¡å™¨è®¾ç½®ï¼Œä¸»è¦ä¸ºåå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡)ã€location(urlåŒ¹é…ç‰¹å®šä½ç½®åçš„è®¾ç½®)
```
* [é…ç½®æ ·ä¾‹](https://github.com/CLgithub/comused/tree/master/src/other/nginxé…ç½®æ–‡ä»¶/)pref	

## kafka
* å¸¸ç”¨å‘½ä»¤

	```bash
	# æŸ¥çœ‹æ¶ˆè´¹
	./kafka-consumer-groups.sh --bootstrap-server 10.198.116.146:9092 --list
	# æŸ¥çœ‹æ¶ˆè´¹è¯¦ç»†ä¿¡æ¯ï¼Œç¬¬ä¸‰åˆ—ä¸ºgroupid
	./kafka-consumer-groups.sh --bootstrap-server 10.198.116.146:9092 --group console-consumer-8819 --describe
	
	# æŸ¥çœ‹topic
	./kafka-topics.sh --list --zookeeper 10.198.116.146:2182,10.198.116.147:2182,10.198.116.148:2182/kafka
	
	# å‘é€æ¶ˆæ¯
	./kafka-console-producer.sh --broker-list 10.198.116.146:9092 --topic test
	
	# æ¥æ”¶æ¶ˆæ¯
	./kafka-console-consumer.sh --bootstrap-server 10.198.116.146:9092 --topic test --from-beginning
	
	# åˆ›å»ºtopic
	./kafka-topics.sh --create --zookeeper 10.198.116.146:2182,10.198.116.147:2182,10.198.116.148:2182/kafka --replication-factor 2 --partitions 8 --topic event2
	```



## springBoot  æ‰“åŒ…ğŸ“¦è‡ªå®šä¹‰jaråŒ…

* pomæ–‡ä»¶

   ```xml
    <build>
           <plugins>
   
               <plugin>
                   <groupId>org.springframework.boot</groupId>
                   <artifactId>spring-boot-maven-plugin</artifactId>
                   <executions>
                       <execution>
                           <goals>
                               <goal>repackage</goal>
                           </goals>
                       </execution>
                   </executions>
               </plugin>
   
               <plugin>
                   <groupId>org.apache.maven.plugins</groupId>
                   <artifactId>maven-compiler-plugin</artifactId>
                   <configuration>
                       <source>1.8</source>
                       <target>1.8</target>
                        <!--ç¼–è¯‘æ—¶ï¼Œå¿½ç•¥libä¸‹çš„åŒ…-->
                       <compilerArguments>
                           <extdirs>${basedir}/lib</extdirs>
                       </compilerArguments>
                   </configuration>
               </plugin>
           </plugins>
       </build>
   ```

  

* æ‰‹åŠ¨å°†éœ€è¦çš„ç¬¬ä¸‰æ–¹jaråŒ…ï¼Œæ·»åŠ åˆ°å·²ç»æ‰“åŒ…çš„jarä¸­

  * åœ¨å·¥ç¨‹ç›®å½•ä¸‹æ‰§è¡Œ[è„šæœ¬](./rebuild_lib.sh)

* è‡ªå®šä¹‰æ‰“åŒ…ğŸ“¦ï¼Œpomå…¶ä»–é…ç½®[å‚è€ƒ](https://www.jianshu.com/p/d7ee58bba7bd)
